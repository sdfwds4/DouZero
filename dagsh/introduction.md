# 暗牌斗地主玩法描述

## 玩法描述

1. **人数**: 4人，各自为战。
2. **牌数**: 使用完整的2副牌，即 `(52张扑克+2张王牌)*2`，共 108 张。
3. **总轮数**: 一共 5 轮，打完 5 轮或三家破产则游戏结束。
4. **手牌**:
   - 初始手牌 6 张，此后每轮补齐手牌的同时都多发 2 张：
     - a. 第 1 轮发 6 张牌  
     - b. 第 2 轮补齐手牌至 8 张  
     - c. 第 3 轮补齐手牌至 10 张  
     - d. 第 4 轮补齐手牌至 12 张  
     - e. 第 5 轮补齐手牌至 14 张  
5. **出牌**: 每轮每名玩家可以打出一种牌型，打出的牌型会与其他玩家进行比拼。每轮可打出任意数量的牌，打出的牌越多倍数越高。
6. **明牌**: 每轮固定有 2 张牌为明牌，其他玩家可见。明牌会有标志。

---

## 比牌规则

| 牌型类     | 牌型   | 比牌规则                                      |
|------------|--------|---------------------------------------------|
| 炸弹类     | 炸弹   | 炸弹最大，可压制其他牌型（四王炸 > 八星炸 > 七星炸 > 三王炸 > 六星炸 > 五星炸 > 王炸 > 四星炸） |
| 三带类     | 飞机   | 飞机牌数越多越大，牌数相同时点数大者胜       |
| 三带类     | 三带   | 比最大的三带，点数大者胜                     |
| 对子类     | 连对   | 连对牌数越多越大，牌数相同时点数大者胜       |
| 对子类     | 对子   | 比最大的对子，点数大者胜                     |
| 单牌类     | 顺子   | 顺子牌数越多越大，牌数相同时点数大者胜       |
| 单牌类     | 单牌   | 比最大的单牌，点数大者胜                     |

---

## 结算顺序

1. **炸弹优先**:
   - 如果本轮有玩家打出炸弹牌型，则本轮只进行炸弹结算，非炸弹牌型本轮均为失败。
2. **非炸弹结算**:
   - 如果本轮没有玩家打出炸弹牌型，则按以下顺序结算：  
     `飞机/三带 → 连对/对子 → 顺子/单牌`  
     每次结算的胜者赢取其他玩家金币。

---

## 暴击规则

1. **触发条件**:
   - 同类牌型的胜者会对败者触发“暴击”，胜者结算金币时对败者有额外的暴击倍数。
2. **暴击效果**:
   - 暴击倍数 = `5倍 * 被暴击人数`  
   - 胜者的牌型倍率乘以 5 倍，且被暴击玩家的总出牌张数分数和加入胜者分数。

---

## 多赢与平局

| 类型   | 规则                                                                 |
|--------|--------------------------------------------------------------------|
| 平局   | 多名玩家牌型相同、点数相同时视为“平”，不赢不输。                        |
| 双赢   | 两位玩家“平”且赢其他玩家。                                            |
| 三赢   | 三名玩家“平”且赢其他玩家。                                             |
| 全平   | 所有玩家“平”。                                                        |

---

## 结算规则

1. **分数计算**:
   - 大小王：5 分  
   - 其他牌：1 分  
2. **计算公式**:
   - **未触发暴击**：  
     `金币数 = 底分 × 胜者打出牌的分数和 × 牌型倍数`  
   - **触发暴击**：  
     `金币数 = 底分 × (胜者分数和 + 败者分数和) × 牌型倍数 × 暴击倍数`  

---

## 牌型说明

| 牌型类     | 牌型名称 | 倍数       | 牌型说明                          | 示例         |
|------------|----------|------------|-----------------------------------|--------------|
| 炸弹类     | 炸弹     | 10-100 倍 | 4张及以上相同点数牌或2张及以上王牌 |              |
| 三带类     | 飞机     | 20 倍      | 点数相连的2个及以上三带           |              |
| 三带类     | 三带     | 4 倍       | 3张相同点数牌                     |              |
| 对子类     | 连对     | 20 倍      | 点数相连的2个及以上对子           |              |
| 对子类     | 对子     | 3 倍       | 2张相同点数牌（王牌除外）          |              |
| 单牌类     | 顺子     | 20 倍      | 5张及以上点数相连的单牌           |              |
| 单牌类     | 单牌     | 2 倍       | 未形成其他牌型的单牌               |              |

---

## 炸弹类牌型详解

| 牌型名称 | 倍数   | 牌型说明                  | 示例          |
|----------|--------|---------------------------|---------------|
| 四王炸   | 100 倍 | 2张大王 + 2张小王         |               |
| 八星炸   | 60 倍  | 8张相同点数牌             | 33333333      |
| 七星炸   | 50 倍  | 7张相同点数牌             | 3333333       |
| 三王炸   | 40 倍  | 3张王牌                   |               |
| 六星炸   | 30 倍  | 6张相同点数牌             | 333333        |
| 五星炸   | 20 倍  | 5张相同点数牌             | 33333         |
| 王炸     | 15 倍  | 2张王牌                   |               |
| 四星炸   | 10 倍  | 4张相同点数牌             | 3333          |
